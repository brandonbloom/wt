$ wtcmdtest bash -lc 'set -e; cd main; ../../bin/wt new busy --base main >/dev/null; ../../bin/wt new idle --base main >/dev/null; printf '"'"'[{"pid":1111,"ppid":100,"command":"server","cwd":"%s/../busy"},{"pid":2222,"ppid":100,"command":"worker","cwd":"%s/../busy"},{"pid":3333,"ppid":100,"command":"logger","cwd":"%s/../idle"}]\n'"'"' "$(pwd)" "$(pwd)" "$(pwd)" >processes.json; export PATH="$(pwd)/../bin:$PATH"; export WT_PROCESS_TEST_DATA_FILE="$(pwd)/processes.json"; ../../bin/wt kill -n -9 busy ../idle'
2 Preparing worktree (new branch 'busy')
2 Preparing worktree (new branch 'idle')
1 busy:
1   - server (1111)
1   - worker (2222)
1   would send SIGKILL (9) to 2 processes
1
1 idle:
1   - logger (3333)
1   would send SIGKILL (9) to 1 process

$ wtcmdtest bash -lc 'set -e; cd main; ../../bin/wt new busy --base main >/dev/null; ../../bin/wt new idle --base main >/dev/null; printf '"'"'[{"pid":1111,"ppid":100,"command":"server","cwd":"%s/../busy"},{"pid":2222,"ppid":100,"command":"worker","cwd":"%s/../busy"},{"pid":3333,"ppid":100,"command":"logger","cwd":"%s/../idle"}]\n'"'"' "$(pwd)" "$(pwd)" "$(pwd)" >processes.json; export PATH="$(pwd)/../bin:$PATH"; export WT_PROCESS_TEST_DATA_FILE="$(pwd)/processes.json"; ../../bin/wt kill --signal=hup busy; cat processes.json'
2 Preparing worktree (new branch 'busy')
2 Preparing worktree (new branch 'idle')
1 busy:
1   - server (1111)
1   - worker (2222)
1   sending SIGHUP (1) to 2 processes
1   cleared
1 [{"pid":3333,"command":"logger","cwd":"/tmp/wt-transcripts/tmprepo-kill/main/../idle","ppid":100}]
% no-newline
